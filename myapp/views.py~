from django.http import HttpResponse

from django.shortcuts import render_to_response, get_object_or_404
from django.template import RequestContext

import sys
import time

import site
import models



def main(request):
    return HttpResponse("Hello, nihohi!")


def read(request):
    records = models.Record.get_all()
    records_tmp = [ {'username'    : str(record.username),
                     'description' : str(record.description),
                     'score'       : str(record.score),
                     'datetime'    : str(record.datetime),
                     } for record in records ]
    site.addsitedir('site-packages','.')
    path = sys.path
    # for csrf
    return render_to_response('index.html',
                              { 'users': records_tmp,
                                'path' : path
                                },
                              context_instance=RequestContext(request))

def create(request):
    pass

def update(request):
    pass

def delete(request):
    pass

